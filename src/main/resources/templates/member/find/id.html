<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<title>같은 취향을 가진 사람들의 가치</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" th:href="@{ /assets/favicon.ico }" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link th:href="@{ /css/styles.css }" rel="stylesheet" />
    <style>
        @font-face {
            font-family: 'Tenada';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2210-2@1.0/Tenada.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        *{
           font-family: 'Tenada';
        }
    </style>
    </head>
    <body style="background-color: #EEEEEE;">
        <div class="container-fluid row" style="background-color: #EEEEEE;">
            <div class="col-sm-2"></div>
            <div class="card-fluid col-sm-8" style="background-color: #EEEEEE;" >
            <div style="margin-top: 20px;">
                <h6 style="display:inline;">같은 취향을 가진 사람들의 가치</h6>
                <h3 style="display:inline; margin-left: 8px;"><a th:href="@{ / }" style="text-decoration: none; color: black;">같취</a></h3>
                <h6 style="display:inline; float: right;"><a th:href="@{ / }" style="text-decoration: none; color: black;">home</a></h6>
            </div>
                <div class="card-body row" style="margin: auto; width: 80%" >
                    <h2 class="font-weight-normal" style="text-align: center; margin-top: 100px;">아이디 찾기</h2>
                <div class="col-4"></div>
                    <form class="col-4">
                        <div style="margin: 10px;">
                            <input  type="text" id="name" name="name"
                                class="form-control" placeholder="이름" required autofocus />
                        </div>
                        <div style="margin: 10px;" >
                            <input type="email" id="email" name="email"
                                class="form-control" placeholder="이메일" required />
                        </div>
                        <div style="margin-bottom: 10px;">
                            <input type="submit" id="btnSubmit"
                                class="form-control btn btn-success" value="아이디 찾기" />
                        </div>
                        <div>
                            <p class="text-success d-none" style="text-align: center;" th:text="${result}"></p>
                        </div>
                        <div>
                            <p class="text-danger d-none" style="text-align: center;">아이디를 찾을 수 없습니다</p>
                        </div>
                        
                        <hr/>
                        <div>
                            <ul style="list-style: none; padding: 0; text-align: center;">
                                <li>
                                    <a style="text-decoration-line: none; color: black; color: gray;" th:href="@{ /login }">로그인하러 가기</a>
                                </li>
                            </ul>
                        </div>
                    </form>
                    <div class="col-4"></div>
                </div>
            </div>
            <div class="col-sm-2"></div>
        </div>
        
        <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
    <script th:src="@{ js/scripts.js }"></script>
        <!-- axios-http -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
    const btnSubmit = document.querySelector('#btnSubmit');
    
    btnSubmit.eventListener('click', function(){
        const name = document.querySelector('#name').value;
        const email = document.querySelector('#email').value;
        
        axios.get('/member/find_id?name=' + name + '&email=' + email)
        .then(response =>{
        	findId()
        })
        .catch(err => {console.log(err)})
    });
    
    function findId(seq) {
        Swal.fire({
            title: 'response',
            showCancelButton: false,
            confirmButtonColor: 'red',
            confirmButtonText: '확인',
          })
    }
    
    
    </script>
    </body>
</html>