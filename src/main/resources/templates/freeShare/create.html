<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FREE SHARE</title>

<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    rel="stylesheet">
<style>
@font-face {
    font-family: 'Tenada';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2210-2@1.0/Tenada.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
}
*{
   font-family: 'Tenada';
}

</style>
</head>
<div class="card">
    <div class="card-header">
        <h1>ìƒí’ˆ ë“±ë¡í•˜ê¸°!</h1>
    </div>

    <div class="card-body">
        <form id="formbtn" method="post" enctype="multipart/form-data">
            <div class="my-4">
                <label for="title" class="form-label">ì œëª©</label> 
                <input id="title" name="title" class="form-control" type="text" required autofocus />
            </div>
            <div class="my-4">
                <label for="content" class="form-label">ë‚´ìš©</label>
                <textarea id="content" class="form-control" name="content" required></textarea>
            </div>
            <div class="my-4">
                <label for="filePath" class="form-label">ì œí’ˆ ì‚¬ì§„ ì˜¬ë¦¬ê¸°</label> 
                <input id="filePath" name="filePath" class="form-control"  type="file" value="íŒŒì¼ì„ íƒ" required />
            </div> 
            <div class="my-4">
                <label for="price" class="form-label">ê°€ê²©</label>
                <input type="text" maxlength="10" onkeyup="inputNumberFormat(this)" id="price" class="form-control" name="price" required />
            </div>
            <div class="my-4">
                <!-- ì‘ì„±ìëŠ” ì§ì ‘ ì…ë ¥í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë¡œ ìë™ìœ¼ë¡œ ì¨ë²„ë¦¬ì...ã…ã……ã… -->
                <label for="author" class="form-label">ì‘ì„±ì</label> 
                <input id="author" name="author" class="form-control" type="text" th:value="${ #authentication.name }" readonly />
            </div>

            <div class="btn-group" id="btnGroup" role="group" aria-label="Basic checkbox toggle button group" >
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="transaction" id="direct" value="direct" autocomplete="off"/> 
                    <label class="form-check-label" for="direct"> ì§ê±°ë˜ </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="transaction" id="parcel" value="parcel" autocomplete="off" /> 
                    <label class="form-check-label" for="parcel"> íƒë°°ê±°ë˜ </label>
                </div>
            </div> 

            <div id="btnRegister" class="my-5" >
                <input type="submit" value="ìƒí’ˆ ë“±ë¡" class="form-control btn btn-success" />
            </div>
        </form>
    </div>
    <div class="card-footer">
    
    
    </div>
</div>

<script type="text/javascript">
 
    //êµ¬ìƒ: ì²´í¬ë°•ìŠ¤ì—ì„œ í•˜ë‚˜ë¼ë„ ì²´í¬ë˜ì§€ ì•Šìœ¼ë©´ alertê²½ê³ ì°½ì„ ë„ìš°ëŠ” ë°©ì‹ìœ¼ë¡œ ê¼­ ì²´í¬ë¥¼ í•˜ë„ë¡ ë§Œë“¤ì–´ë³´ì..
    const check = document.querySelector('.btn-group');
    const checkboxes = check.querySelectorAll('input');
    const formbtn=document.querySelector('#formbtn');
    
    const btnRegister = document.querySelector('#btnRegister');

    btnRegister.addEventListener('click', (e)=>{
        e.preventDefault();
        alertCheckBox();
    });
    
    function alertCheckBox(){

        for(let i = 0; i < checkboxes.length; i ++){
            if(checkboxes[i].checked === true){ 
                console.log(checkboxes[i]);
                formbtn.submit();
                return;
            }
        }
        alert('í•„ìˆ˜ì‚¬í•­ë“¤ì€ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”...ğŸ˜'); // ì²´í¬ì—†ìœ¼ë©´ ë°”ë¡œ returní•´ì„œ alert ë„ìš°ê¸°!
    }
    
    function inputNumberFormat(obj) {
        obj.value = comma(uncomma(obj.value));
    }

    function uncomma(str) {
        str = String(str);
        return str.replace(/[^\d]+/g, '');
    } 
    
    function comma(str) {
        str = String(str);
        return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
    }

    function inputOnlyNumberFormat(obj) {
        obj.value = onlynumber(uncomma(obj.value));
    }
    
    function onlynumber(str) {
        str = String(str);
        return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g,'$1');
    }
    
</script>
</html>